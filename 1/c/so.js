import{createRefsArray}from"../h/arrays/createRefsArray";import{fillIndexedCollection}from"./collections/fillIndexedCollection";import{p}from"../p";import{createSources}from"./sources/creating/createSources";import{s}from"./s";import{SourceLoadHandler}from"./sources/SourceLoadHandler";import{dst}from"./dst";export function so(o){var{ap,componentsServices:{isLightboxOpenManager},core:{globalEventsController,scrollbarRecompensor,windowResizeActioner},e,elements,st,stageIndexes,sws}=o;o.o=()=>{fillIndexedCollection(o,"sourceLoadHandlers",SourceLoadHandler);isLightboxOpenManager.set(true,()=>{sws.b(stageIndexes.previous);sws.b(stageIndexes.current);sws.b(stageIndexes.next);st.u();sws.c();sws.a();oa();e("onShow")});};o.i=()=>{o.ii=1;p(o);o.smw=createRefsArray(o);o.saw=createRefsArray(o);elements.sources=createRefsArray(o);fillIndexedCollection(o,"sourceLoadHandlers",SourceLoadHandler);if(o.iap)o.loc=1;s(o);st.u();isLightboxOpenManager.set(true,()=>{oa();createSources(o);e("onInit")})};function oa(){dst(o);document.documentElement.classList.add("fslightbox-open");scrollbarRecompensor.addRecompense();globalEventsController.attachListeners();windowResizeActioner.runActions();ap.p(stageIndexes.current);e("onOpen")}}
